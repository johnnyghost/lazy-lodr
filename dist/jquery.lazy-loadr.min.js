(function(root,factory){if(typeof define==="function"&&define.amd)define(["jquery"],factory);else factory(jQuery,window)})(this,function($,window,undefined){var name="lazyLodr",document=window.document,defaults={range:400,container:window};function LazyLodr(element,options){options=$.extend({},defaults,options);var container=$(options.container);function initialize(){container.scroll($.proxy(render,this));container.resize($.proxy(render,this));viewportCalculus()}function viewportCalculus(){$(document).ready($.proxy(function(){window.setTimeout($.proxy(function(){render()},this),500)},this))}function loadImage(element){var realSource=element.getAttribute("data-src");element.setAttribute("src",realSource)}function render(){var that=this,cs=container.height(),ct=container.scrollTop(),cb=ct+cs,images=$(element).find("img");images.filter(function(){var et=$(this).offset().top;if(et>=ct-options.range&&et<=cb+options.range){if(this.getAttribute("data-src")!==this.getAttribute("src")){loadImage(this)}}})}initialize()}$.fn[name]=function(options){return this.each(function(){if(!$.data(this,"plugin_"+name)){$.data(this,"plugin_"+name,new LazyLodr(this,options))}})}});